@model string

@{
    ViewBag.Title = "Bootstrap with Angular Service";
}

@*@section JsForHead*@
@*{*@
    <script src="~/Scripts/Demo/UserController.js"></script>
    <script type="text/javascript">
        userModule.factory('bootstrappedUsers', function() {
            console.log('in service');
            return {
                users: @Html.Raw(Model)
            };
        });
    </script>
@*}*@

<h2>Bootsrapping with Angular Service</h2>
<div ng-controller="UserController">
    <table class="table">
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>User Name</th>
            <th></th>
        </tr>
        <tr ng-repeat="user in bootstrappedUsers">
            <td>{{user.FirstName}}</td>
            <td>{{user.LastName}}</td>
            <td>{{user.UserName}}</td>
            <td><button ng-click="getUser(user.Id)">Get User</button></td>
        </tr>
    </table>
    <hr />
    First Name: <input ng-model="currentUser.FirstName" />
    Last Name: <input ng-model="currentUser.LastName" />
    User Name: <input ng-model="currentUser.UserName" />
    <button ng-click="addUser()">New User</button>

</div>